---
title: "Part 1. 리눅스 일반 - 제3장 리눅스의 기본 명령어 - 3. 사용자 생성 및 계정 관리"
categories:
  - 리눅스 마스터
tags:
  - 리눅스 일반
  - 사용자 생성 및 계정 관리
---

## 01-03-01 사용자 생성 및 계정 관리
### (1) 리눅스 명령어
  - 명령어 `which`
    - 명령어의 위치를 알려주거나 alias를 보여준다.
    - 형식: `which` + `명령어`
  
  - 명령어 `alias`
    - 자주 사용하는 명령어를 특정 문자로 지정하여 간편하게 사용할 수 있게 해준다.
    - 형식: `alias [별명='명령어']`
  
  - 명령어 `unalias`
    - alias 기능을 해제한다.
    - 형식: `unalias [옵션] [단축 명령어]`
  
  - 환경 변수 PATH
    - PATH는 실행 파일들의 디렉터리 위치를 저장해 놓은 환경 변수이다.
    - 현재 작업 디렉터리가 아닌 다른 디렉터리에서 특정 명령어를 수행하거나 디렉터리 안에 있는 내용들을 확인할 때, PATH에 저장되어 있는 경로에서 명령어를 찾아 실행한다. -> 어떤 실행 파일을 실행할 때 해당 디렉터리로 이동해야 하는 번거로움을 줄여준다.
    - 명령어 `echo $PATH`는 지정된 PATH 값을 확인한다.
    - 기존 PATH에 새로운 경로를 추가하려면 명령어 `PATH`나 홈 디렉터리의 `.bash_profile`에 새로운 PATH를 추가한다.
      - 기존 경로와 새 경로는 `:`(콜론)으로 구분한다.
  
### (2) 리눅스 도움말
  - 명령어 `man`
    - 리눅스에서 사용하는 명령어의 매뉴얼을 제공한다.
  
  - 명령어 `info`
    - 리눅스 명령어의 사용 방법, 옵션 등을 나타낸다.
    - 명령어 `man`에 비해 한정적이다.
  
  - 명령어 `whatis`
    - 명령어의 기능을 간략하게 나타낸다.
    - whatis 데이터베이스에서 해당 문자열만 검색한다.

  - 명령어 `manpath`
    - man 페이지의 위치 경로를 검색하여 표시해준다.
  
  - 명령어 `whereis`
    - 찾고자 하는 명령어의 실행 파일의 절대 경로와 소스 코드, 설정 파일 및 매뉴얼 페이지를 찾아 출력해준다.
  
  - 명령어 `apropos`
    - man 페이지 설명에서 지정한 키워드를 포함하는 명령어 목록을 표시한다.
    - whatis 데이터베이스에서 해당 문자열이 포함된 것을 검색한다.
  
### (3) 사용자 생성 명령어
  - 명령어 `useradd`
    - 계정을 생성하는 명령어로, `adduser`와 동일한 기능을 갖는다.
    - 이렇게 생성된 계정 정보는 `/etc/passwd`, `/etc/shadow`, `/etc/group`에 각각 저장된다.
  
  - 명령어 `passwd`
    - 생성된 계정의 패스워드를 입력 및 변경할 때 사용된다.
    - 생성된 계정의 패스워드는 `/etc/shadow` 안에 암호화되어 기록된다.
  
  - 명령어 `su`
    - Switch User 또는 Substitute User의 줄임말이다.
    - 현재 사용자 계정에서 로그아웃하지 않고 다른 사용자 계정으로 로그인하여 해당 사용자의 권한을 획득하는 명령어이다.

### (4) 사용자 관련 파일
  - 파일 `/etc/default/useradd`
    - 명령어 `useradd`로 사용자 계정을 추가할 때 사용된 정보(추가 당시 사용했던 명령어의 옵션 등)를 읽어오는 파일이다.

  - 파일 `/etc/passwd`
    - **사용자 계정 정보**를 가지고 있는 파일로, 리눅스에 로그인할 때 사용된다.
  
  - 파일 `/etc/shadow`
    - 계정의 패스워드 정보가 암호화되어 있는 파일이다.
  
  - 파일 `/etc/login.defs`
    - 사용자 계정 설정과 관련된 기본값이 정의된 파일이다.
    - 새로운 계정을 생성 시 반드시 참조되는 파일이다.
  
### (5) 사용자 계정 
  - 명령어 `usermod`
    - 사용자의 정보를 변경하는 명령어이다.
    - 사용자의 홈 디렉터리 변경, 그룹 변경, 유효기간 변경 기능 등이 있다.
  
  - 명령어 `userdel`
    - 기존 계정 정보를 삭제하는 명령어이다.
    - 사용자의 홈 디렉터리 변경, 그룹 변경, 유효기간 변경 기능 등이 있다.
    - 옵션 없이 `userdel`을 사용할 경우, `/etc/passwd`, `/etc/shadow`, `/etc/group`에서 해당 계정 정보가 삭제된다.
  
  - 명령어 `chage`
    - Change Age의 줄임말이다.
    - 패스워드의 만료 정보를 변경하는 명령어이다.

### (6) 그룹 관리
  - 파일 `/etc/group`
    - 사용자 그룹에 대한 정보가 저장된 파일이다.
    - 모든 계정은 한 개 이상의 그룹에 포함되어 있을 수 있으며, `/etc/group` 파일을 이용하여 계정 그룹을 직접 변경하거나 명령어를 이용하여 수정할 수 있다.
  
  - 파일 `/etc/gshadow`
    - 그룹의 패스워드를 MD5로 암호화하여 지정하거나, 그룹의 소유주 및 구성원을 설정할 수 있다.
    
  - 명령어 `groupadd`
    - 새로운 그룹을 생성하는 명령어이다.
  
  - 명령어 `groupdel`
    - 기존 그룹을 삭제하는 명령어이다.
    - 계정이 소속되어 있는 그룹은 삭제할 수 없다.
  
  - 명령어 `groupmod`
    - 그룹의 설정을 변경하는 명령어이다.

### (7) 사용자 조회 명령어
  - 명령어 `users`
    - 시스템에 로그인한 사용자 정보를 출력한다.
  
  - 명령어 `who`
    - 현재 시스템에 접속하고 있는 사용자들을 조회한다.
  
  - 명령어 `w`
    - 현재 접속 중인 사용자들의 정보를 표시한다.
    - 확인 가능한 정보로는 현재 시간 정보, 서버 접속자의 총 수 등이 있다.
    - `JCPU`와 `PCPU` 필드를 가지고 있다.
      - `JCPU`: 입력장치를 이용해서 접속 시 모든 프로세스의 CPU 사용 시간
      - `PCPU`: `WHAT` 필드에 나타나는 프로세스명에서 사용되는 CPU 총 시간
  
  - 명령어 `id`
    - 사용자 계정의 `uid`, `gid`, `group`을 확인하는 명령어이다.
  
  - 명령어 `groups`
    - 사용자 계정이 속한 그룹 목록을 표시한다.
  
  
